lxc.arch = amd64
lxc.utsname = controller-001

lxc.network.type = veth
lxc.network.flags = up
lxc.network.veth.pair = lxc10
lxc.network.name = eth0
lxc.network.link = br0
lxc.network.ipv4 = 192.168.0.10/24
lxc.network.ipv4.gateway = 192.168.0.1
lxc.network.hwaddr = 86:c0:4e:30:00:0a

lxc.network.type = veth
lxc.network.flags = up
lxc.network.veth.pair = lxc10i
lxc.network.name = eth1
lxc.network.link = br1
lxc.network.ipv4 = 192.168.200.10/24
lxc.network.hwaddr = 86:c0:4e:30:ff:0a

lxc.rootfs = /lxc/controller-001

lxc.mount.entry=proc proc proc ro,nodev,noexec,nosuid 0 0
# disabled for security, see http://blog.bofh.it/debian/id_413
#lxc.mount.entry=sys sys sysfs defaults 0 0
lxc.mount.entry=shm dev/shm tmpfs rw,nosuid,nodev,noexec,relatime 0 0
lxc.mount.entry=tmp tmp tmpfs rw,nosuid,nodev,noexec 0 0
lxc.mount.entry=run run tmpfs rw,nosuid,nodev,relatime,mode=755 0 0

# Enable these two if you want to let a guest tweak parameters in the network
lxc.mount.entry=/proc/sys/net/ipv4/conf proc/sys/net/ipv4/conf none bind,rw,nodev,noexec,nosuid 0 0
lxc.mount.entry=/proc/sys/net/ipv6/conf proc/sys/net/ipv6/conf none bind,rw,nodev,noexec,nosuid 0 0

# Shared portage
lxc.mount.entry=/usr/portage usr/portage none bind,ro 0 0
lxc.mount.entry=/usr/portage/distfiles usr/portage/distfiles none bind,rw 0 0

# console access
lxc.tty = 1
lxc.pts = 128

lxc.cap.drop = audit_control audit_write dac_read_search fsetid ipc_owner linux_immutable mac_admin mac_override mknod setfcap sys_admin sys_boot sys_module sys_pacct sys_ptrace sys_rawio sys_resource sys_time sys_tty_config syslog
# lxc.cap.drop = 

# deny access to all devices by default, explicitly grant some permissions
#
# format is [c|b] [major|*]:[minor|*] [r][w][m]
#            ^     ^                   ^
# char/block -'     `- device number    `-- read, write, mknod
#
# first deny all...
lxc.cgroup.devices.deny = a
# /dev/null and zero
lxc.cgroup.devices.allow = c 1:3 rw
lxc.cgroup.devices.allow = c 1:5 rw
# /dev/{,u}random
lxc.cgroup.devices.allow = c 1:9 rw
lxc.cgroup.devices.allow = c 1:8 r
# /dev/pts/*
lxc.cgroup.devices.allow = c 136:* rw
lxc.cgroup.devices.allow = c 5:2 rw
# /dev/tty{0,1}
lxc.cgroup.devices.allow = c 4:1 rwm
lxc.cgroup.devices.allow = c 4:0 rwm
# /dev/tty
lxc.cgroup.devices.allow = c 5:0 rwm
# /dev/console
lxc.cgroup.devices.allow = c 5:1 rwm
# /dev/net/tun
lxc.cgroup.devices.allow = c 10:200 rwm
